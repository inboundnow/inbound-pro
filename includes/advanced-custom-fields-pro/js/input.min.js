!function(e,t){"use strict";var a=e.document,i=function(){function e(e,t,a){return r(e)===!1||"function"!=typeof t?u:(a=parseInt(a||10,10),l("actions",e,t,a),u)}function a(){var e=Array.prototype.slice.call(arguments),t=e.shift();return r(t)===!1?u:(f("actions",t,e),u)}function i(e){return r(e)===!1?u:(c("actions",e),u)}function n(e,t,a){return r(e)===!1||"function"!=typeof t?u:(a=parseInt(a||10,10),l("filters",e,t,a),u)}function s(){var e=Array.prototype.slice.call(arguments),t=e.shift();return r(t)===!1?u:f("filters",t,e)}function o(e){return r(e)===!1?u:(c("filters",e),u)}function c(e,t){p[e][t]&&(p[e][t]=[])}function r(e){if("string"!=typeof e)return!1;var t=e.replace(/^\s+|\s+$/i,"").split("."),a=t.shift();return t=t.join("."),""!==a&&""!==t}function l(e,t,a,i){var n={callback:a,priority:i},s=p[e][t];s?(s.push(n),s=d(s)):s=[n],p[e][t]=s}function d(e){for(var t,a,i,n=1,s=e.length;s>n;n++){for(t=e[n],a=n;(i=e[a-1])&&i.priority>t.priority;)e[a]=e[a-1],--a;e[a]=t}return e}function f(e,a,i){var n=p[e][a];if("undefined"==typeof n)return"filters"===e?i[0]:!1;for(var s=0,o=n.length;o>s;s++)"actions"===e?n[s].callback.apply(t,i):i[0]=n[s].callback.apply(t,i);return"actions"===e?!0:i[0]}var u={removeFilter:o,applyFilters:s,addFilter:n,removeAction:i,doAction:a,addAction:e},p={actions:{},filters:{}};return u};e.wp=e.wp||{},e.wp.hooks=new i}(window);var acf={l10n:{},o:{},get:null,update:null,_e:null,get_atts:null,get_fields:null,get_uniqid:null,serialize_form:null,add_action:null,remove_action:null,do_action:null,add_filter:null,remove_filter:null,apply_filters:null,validation:null,conditional_logic:null,media:null,fields:{date_picker:null,color_picker:null,image:null,file:null,wysiwyg:null,gallery:null,relationship:null}};!function(e){e.extend(acf,{update:function(e,t){this.o[e]=t},get:function(e){return this.o[e]||null},_e:function(e,t){t=t||!1;var a=this.l10n[e]||!1;return t&&(a=a[t]||!1),a||""},get_fields:function(t,a,i){t=t||{},a=a||e("body"),i=i||!1;var n=".acf-field";for(k in t)n+="[data-"+k+'="'+t[k]+'"]';var s=a.find(n);return a.is(n)&&(s=s.add(a)),i||(s=s.filter(function(){return acf.apply_filters("is_field_ready_for_js",!0,e(this))})),s},get_field:function(t,a){a=a||e("body");var i=this.get_fields({key:t},a,!0);return i.exists()?i.first():!1},get_the_field:function(e){return e.parent().closest(".acf-field")},get_closest_field:function(e){return e.closest(".acf-field")},get_field_wrap:function(e){return e.closest(".acf-field")},get_field_key:function(e){return this.get_data(e,"key")},get_field_type:function(e){return this.get_data(e,"type")},get_data:function(t,a){a=a||!1;var i=this,n=!1;return a?(n=t.attr("data-"+a),e.isNumeric(n)&&(n.match(/[^0-9]/)||(n=parseInt(n)))):(n={},e.each(t[0].attributes,function(e,s){"data-"===s.name.substr(0,5)&&(a=s.name.replace("data-",""),n[a]=i.get_data(t,a))})),n},is_field:function(t,a){var i=!0;return t.hasClass("acf-field")||(i=!1),e.each(a,function(e,a){t.attr("data-"+e)!=a&&(i=!1)}),i},is_sub_field:function(e,t){t=t||!1;var a=!1;return $parent=e.parent().closest(".acf-field"),$parent.exists()&&(a=!0,t&&(a=this.is_field($parent,t))),a},get_uniqid:function(e,t){"undefined"==typeof e&&(e="");var a,i=function(e,t){return e=parseInt(e,10).toString(16),t<e.length?e.slice(e.length-t):t>e.length?Array(1+(t-e.length)).join("0")+e:e};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,a=e,a+=i(parseInt((new Date).getTime()/1e3,10),8),a+=i(this.php_js.uniqidSeed,5),t&&(a+=(10*Math.random()).toFixed(8).toString()),a},serialize_form:function(t,a){a=a||"";var i={},n={},s=a.length,o="_"+a,c=o.length;return $selector=t.find("select, textarea, input"),$selector=$selector.filter(function(){return e(this).closest(".postbox.acf-hidden").exists()?!1:!0}),e.each($selector.serializeArray(),function(e,t){a&&t.name.substring(0,s)!=a&&t.name.substring(0,c)!=o||("[]"===t.name.slice(-2)&&(t.name=t.name.replace("[]",""),"undefined"==typeof n[t.name]&&(n[t.name]=-1),n[t.name]++,t.name+="["+n[t.name]+"]"),i[t.name]=t.value)}),i},remove_tr:function(e,t){var a=e.height(),i=e.children().length;e.addClass("acf-remove-element"),setTimeout(function(){e.removeClass("acf-remove-element"),e.html('<td style="padding:0; height:'+a+'px" colspan="'+i+'"></td>'),e.children("td").animate({height:0},250,function(){e.remove(),"function"==typeof t&&t()})},250)},remove_el:function(t,a,i){i=i||0,t.css({height:t.height(),width:t.width(),position:"absolute",padding:0}),t.wrap('<div class="acf-temp-wrap" style="height:'+t.outerHeight(!0)+'px"></div>'),t.animate({opacity:0},250),t.parent(".acf-temp-wrap").animate({height:i},250,function(){e(this).remove(),"function"==typeof a&&a()})},isset:function(){var e=arguments,t=e.length,a=null,n;if(0===t)throw new Error("Empty isset");for(a=e[0],i=1;t>i;i++){if(e[i]===n||a[e[i]]===n)return!1;a=a[e[i]]}return!0},open_popup:function(t){if($popup=e("body > #acf-popup"),$popup.exists())return update_popup(t);var a=['<div id="acf-popup">','<div class="acf-popup-box acf-box">','<div class="title"><h3></h3><a href="#" class="acf-icon acf-close-popup"><i class="acf-sprite-delete "></i></a></div>','<div class="inner"></div>','<div class="loading"><i class="acf-loading"></i></div>',"</div>",'<div class="bg"></div>',"</div>"].join("");return e("body").append(a),e("#acf-popup").on("click",".bg, .acf-close-popup",function(e){e.preventDefault(),acf.close_popup()}),this.update_popup(t)},update_popup:function(t){return $popup=e("#acf-popup"),$popup.exists()?(t=e.extend({},{title:"",content:"",width:0,height:0,loading:!1},t),t.width&&$popup.find(".acf-popup-box").css({width:t.width,"margin-left":0-t.width/2}),t.height&&$popup.find(".acf-popup-box").css({height:t.height,"margin-top":0-t.height/2}),t.title&&$popup.find(".title h3").html(t.title),t.content&&$popup.find(".inner").html(t.content),t.loading?$popup.find(".loading").show():$popup.find(".loading").hide(),$popup):!1},close_popup:function(){$popup=e("#acf-popup"),$popup.exists()&&$popup.remove()},update_user_setting:function(t,a){e.ajax({url:acf.get("ajaxurl"),dataType:"html",type:"post",data:acf.prepare_for_ajax({action:"acf/update_user_setting",name:t,value:a})})},prepare_for_ajax:function(e){return e.nonce=acf.get("nonce"),e=acf.apply_filters("prepare_for_ajax",e)},is_ajax_success:function(e){return e&&e.success?!0:!1},update_cookie:function(e,t,a){if(a=a||31){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var n="; expires="+i.toGMTString()}else var n="";document.cookie=e+"="+t+n+"; path=/"},get_cookie:function(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},delete_cookie:function(e){this.update_cookie(e,"",-1)}}),e.extend(acf,{add_action:function(){var e=arguments[0].split(" ");for(k in e)arguments[0]="acf."+e[k],wp.hooks.addAction.apply(this,arguments);return this},remove_action:function(){return arguments[0]="acf."+arguments[0],wp.hooks.removeAction.apply(this,arguments),this},do_action:function(){return arguments[0]="acf."+arguments[0],wp.hooks.doAction.apply(this,arguments),this},add_filter:function(){return arguments[0]="acf."+arguments[0],wp.hooks.addFilter.apply(this,arguments),this},remove_filter:function(){return arguments[0]="acf."+arguments[0],wp.hooks.removeFilter.apply(this,arguments),this},apply_filters:function(){return arguments[0]="acf."+arguments[0],wp.hooks.applyFilters.apply(this,arguments)}}),e.fn.exists=function(){return e(this).length>0},e.fn.outerHTML=function(){return e(this).get(0).outerHTML},acf.media={popup:function(t){var a={mode:"select",title:"",button:"",type:"",library:"all",multiple:!1};t=e.extend({},a,t);var i={title:t.title,multiple:t.multiple,library:{},states:[]};t.type&&(i.library={type:t.type}),"edit"==t.mode&&(i.library={post__in:[t.id]}),t.button&&(i.button={text:t.button}),i.states=[new wp.media.controller.Library({library:wp.media.query(i.library),multiple:i.multiple,title:i.title,priority:20,filterable:"all",editable:!0,allowLocalEdits:!0}),new wp.media.controller.EditImage];var n=wp.media(i);return n.on("content:render:edit-image",function(){var e=this.state().get("image"),t=new wp.media.view.EditImage({model:e,controller:this}).render();this.content.set(t),t.loadEditor()},n),n.on("content:activate:browse",function(){try{var a=n.content.get(),i=a.toolbar,s=i.get("filters")}catch(o){return}"uploadedTo"==t.library&&(s.$el.find('option[value="uploaded"]').remove(),s.$el.after('<span class="acf-uploadedTo">'+acf._e("image","uploadedTo")+"</span>"),e.each(s.filters,function(e,t){t.props.uploadedTo=acf.get("post_id")})),"image"==t.type&&(e.each(s.filters,function(e,t){t.props.type="image"}),s.$el.find("option").each(function(){var a=e(this).attr("value");("uploaded"!=a||"all"!=t.library)&&-1===a.indexOf("image")&&e(this).remove()}),s.$el.val("image")),s.$el.trigger("change")}),"function"==typeof t.select&&n.on("select",function(){var e=this,a=-1,i=n.state().get("selection");i&&i.each(function(i){a++,t.select.apply(e,[i,a])})}),n.on("close",function(){setTimeout(function(){n.detach(),n.dispose(),n=null},500)}),"edit"==t.mode&&(n.on("open",function(){"browse"!=this.content.mode()&&this.content.mode("browse"),this.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var e=this.state(),a=e.get("selection"),i=wp.media.attachment(t.id);a.add(i)},n),n.on("close",function(){n.$el.closest(".media-modal").removeClass("acf-media-modal")})),t.button&&n.on("toolbar:create:select",function(e){i={text:t.button,controller:this},e.view=new wp.media.view.Toolbar.Select(i)},n),setTimeout(function(){n.open()},1),n},init:function(){if("undefined"==typeof wp)return!1;if(!acf.isset(wp,"media","view","AttachmentCompat","prototype"))return!1;var t=wp.media.view.AttachmentCompat.prototype;t.orig_render=t.render,t.orig_dispose=t.dispose,t.render=function(){var t=this;return t.ignore_render?this:(this.orig_render(),setTimeout(function(){var a=t.$el.closest(".media-modal");if(!a.hasClass("acf-media-modal")&&!a.find(".media-frame-router .acf-expand-details").exists()){var i=e(['<a href="#" class="acf-expand-details">','<span class="is-closed"><span class="acf-icon small"><i class="acf-sprite-left"></i></span>'+acf.l10n.core.expand_details+"</span>",'<span class="is-open"><span class="acf-icon small"><i class="acf-sprite-right"></i></span>'+acf.l10n.core.collapse_details+"</span>","</a>"].join(""));i.on("click",function(e){e.preventDefault(),a.hasClass("acf-expanded")?a.removeClass("acf-expanded"):a.addClass("acf-expanded")}),a.find(".media-frame-router").append(i)}},0),clearTimeout(acf.media.render_timout),acf.media.render_timout=setTimeout(function(){acf.do_action("append",t.$el)},50),this)},t.dispose=function(){acf.do_action("remove",this.$el),this.orig_dispose()},t.save=function(e){var t={},a={};e&&e.preventDefault(),_.each(this.$el.serializeArray(),function(e){"[]"===e.name.slice(-2)&&(e.name=e.name.replace("[]",""),"undefined"==typeof a[e.name]&&(a[e.name]=-1),a[e.name]++,e.name+="["+a[e.name]+"]"),t[e.name]=e.value}),this.ignore_render=!0,this.model.saveCompat(t)},setTimeout(function(){try{e.isNumeric(acf.o.post_id)&&(wp.media.view.settings.post.id=acf.o.post_id)}catch(t){}},10)}},acf.add_action("load",function(){acf.media.init()}),acf.conditional_logic={items:{},triggers:{},init:function(){var t=this;e(document).on("change",".acf-field input, .acf-field textarea, .acf-field select",function(){t.change(e(this))}),acf.add_action("append",function(e){t.render(e)}),t.render()},add:function(e,t){var a=this;this.items[e]=t;for(var i in t){var n=t[i];for(var s in n){var o=n[s];"undefined"==typeof this.triggers[o.field]&&(this.triggers[o.field]=[]),-1===this.triggers[o.field].indexOf(e)&&this.triggers[o.field].push(e)}}},change:function(e){var t=acf.get_field_wrap(e),a=t.parent(),i=acf.get_field_key(t);if("undefined"==typeof this.triggers[i])return!1;for(var n in this.triggers[i]){var s=this.triggers[i][n],o=acf.get_fields({key:s},a,!0);this.render_fields(o)}},render:function(t){t=t||e("body");var a=acf.get_fields({},t,!0);this.render_fields(a)},render_fields:function(t){var a=this;t.each(function(){a.render_field(e(this))})},render_field:function(e){var t=this,a=!1,i=acf.get_field_key(e);if("undefined"==typeof this.items[i])return!1;var n=this.items[i];for(var s in n){var o=n[s],c=!0;for(var r in o){var l=o[r];if(!t.get_visibility(e,l)){c=!1;break}}if(c){a=!0;break}}a?t.show_field(e):t.hide_field(e)},show_field:function(e){var t=acf.get_field_key(e);e.removeClass("hidden-by-conditional-logic"),e.find("input, textarea, select").not(".acf-disabled").removeAttr("disabled"),acf.do_action("conditional_logic_show_field",e),acf.do_action("show_field",e)},hide_field:function(e){var t=acf.get_field_key(e);e.addClass("hidden-by-conditional-logic"),e.find("input, textarea, select").attr("disabled","disabled"),acf.do_action("conditional_logic_hide_field",e),acf.do_action("hide_field",e)},get_visibility:function(t,a){var i=acf.get_fields({key:a.field},!1,!0),n=null;if(!i.exists())return!1;n=i.first(),i.length>1&&i.each(function(){return $parent=e(this).parent(),t.closest($parent).exists()?(n=e(this),!1):void 0});var s=this.calculate(a,n,t);return s},calculate:function(t,a,i){var n=acf.get_data(a,"type");if("true_false"==n||"checkbox"==n||"radio"==n){var s=a.find('input[value="'+t.value+'"]:checked').exists();if("=="==t.operator&&s)return!0;if("!="==t.operator&&!s)return!0}else if("select"==n){var o=a.find("select"),c=acf.get_data(o),r=[];if(c.multiple&&c.ui?a.find(".acf-select2-multi-choice").each(function(){r.push(e(this).val())}):c.multiple?r=o.val():r.push(c.ui?a.find("input").first().val():o.val()),"=="==t.operator){if(e.inArray(t.value,r)>-1)return!0}else if(e.inArray(t.value,r)<0)return!0}return!1}},acf.add_action("ready",function(){acf.conditional_logic.init()},100),e(document).ready(function(){acf.do_action("ready",e("body"))}),e(window).load(function(){acf.do_action("load",e("body"))}),e(document).on("click",'.acf-field a[href="#"]',function(e){e.preventDefault()}),e(document).on("change",".acf-field input, .acf-field textarea, .acf-field select",function(){e('#acf-form-data input[name="_acfchanged"]').exists()&&e('#acf-form-data input[name="_acfchanged"]').val(1)}),acf.add_action("sortstart",function(t,a){t.is("tr")&&(t.css("position","relative"),t.children().each(function(){e(this).width(e(this).width())}),t.css("position","absolute"),a.html('<td style="height:'+t.height()+'px; padding:0;" colspan="'+t.children("td").length+'"></td>'))}),acf.add_action("before_duplicate",function(t){t.find("select").each(function(){e(this).find(":selected").addClass("selected")})}),acf.add_action("after_duplicate",function(t,a){t.find("select").each(function(){e(this).find(".selected").removeClass("selected")}),a.find("select").each(function(){var t=e(this).find(".selected");e(this).val(t.attr("value")),t.removeClass("selected")})})}(jQuery),function(e){acf.ajax={o:{action:"acf/post/get_field_groups",post_id:0,page_template:0,page_parent:0,page_type:0,post_format:0,post_taxonomy:0,lang:0},update:function(e,t){return this.o[e]=t,this},get:function(e){return this.o[e]||null},init:function(){if(!acf.get("ajax"))return!1;if(this.update("post_id",acf.o.post_id),e("#icl-als-first").length>0){var t=e("#icl-als-first").children("a").attr("href"),a=new RegExp("lang=([^&#]*)"),i=a.exec(t);this.update("lang",i[1])}this.add_events()},fetch:function(){var t=this;e.ajax({url:acf.get("ajaxurl"),data:acf.prepare_for_ajax(this.o),type:"post",dataType:"json",success:function(e){acf.is_ajax_success(e)&&t.render(e.data)}})},render:function(t){e(".acf-postbox").addClass("acf-hidden"),e(".acf-postbox-toggle").addClass("acf-hidden"),e.each(t,function(t,a){var i=e("#acf-"+a.key),n=e('#adv-settings .acf_postbox-toggle[for="acf-'+a.key+'-hide"]');i.removeClass("acf-hidden hide-if-js"),n.removeClass("acf-hidden hide-if-js"),n.find('input[type="checkbox"]').attr("checked","checked"),i.find(".acf-replace-with-fields").each(function(){e(this).replaceWith(a.html),acf.do_action("append",i)}),0===t&&e("#acf-style").html(a.style)})},sync_taxonomy_terms:function(){var t=[];e(".categorychecklist, .acf-taxonomy-field").each(function(){var a=e(this),i=a.find('input[type="checkbox"]').not(":disabled"),n=a.find('input[type="radio"]').not(":disabled"),s=a.find("select").not(":disabled"),o=a.find('input[type="hidden"]').not(":disabled");a.is(".acf-taxonomy-field")&&"1"!=a.attr("data-load_save")||a.closest(".media-frame").exists()||(i.exists()?i.filter(":checked").each(function(){t.push(e(this).val())}):n.exists()?n.filter(":checked").each(function(){t.push(e(this).val())}):s.exists()?s.find("option:selected").each(function(){t.push(e(this).val())}):o.exists()&&o.each(function(){!e(this).val()||e(this).val().indexOf(",")>-1||t.push(e(this).val())}))}),t=t.filter(function(e,t,a){return a.indexOf(e)==t}),this.update("post_taxonomy",t).fetch()},add_events:function(){var t=this;e(document).on("change","#page_template",function(){var a=e(this).val();t.update("page_template",a).fetch()}),e(document).on("change","#parent_id",function(){var a="parent",i=0;""!=e(this).val()&&(a="child",i=e(this).val()),t.update("page_type",a).update("page_parent",i).fetch()}),e(document).on("change",'#post-formats-select input[type="radio"]',function(){var a=e(this).val();"0"==a&&(a="standard"),t.update("post_format",a).fetch()}),e(document).on("change",".categorychecklist input, .acf-taxonomy-field input, .acf-taxonomy-field select",function(){var a=e(this).closest(".acf-taxonomy-field");a.exists()&&"1"!=a.attr("data-load_save")||e(this).closest(".media-frame").exists()||setTimeout(function(){t.sync_taxonomy_terms()},1)})}},e(document).ready(function(){acf.ajax.init()})}(jQuery),function(e){acf.fields.color_picker={timeout:null,init:function(e){var t=this,a=e.clone();a.attr({type:"hidden","class":"",id:"",value:""}),e.before(a),e.wpColorPicker({change:function(i,n){t.change(e,a)}})},change:function(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.trigger("change")},1e3)}},acf.add_action("ready append",function(t){acf.get_fields({type:"color_picker"},t).each(function(){acf.fields.color_picker.init(e(this).find('input[type="text"]'))})})}(jQuery),function(e){acf.fields.date_picker={init:function(t){var a=t.find('input[type="text"]'),i=t.find('input[type="hidden"]'),n=acf.get_data(t);a.val(i.val());var s=e.extend({},acf.l10n.date_picker,{dateFormat:"yymmdd",altField:i,altFormat:"yymmdd",changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:n.first_day});s=acf.apply_filters("date_picker_args",s,t),a.addClass("active").datepicker(s),a.datepicker("option","dateFormat",n.display_format),e("body > #ui-datepicker-div").exists()&&e("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />')},blur:function(e){e.val()||e.siblings('input[type="hidden"]').val("")}},acf.add_action("ready append",function(t){acf.get_fields({type:"date_picker"},t).each(function(){acf.fields.date_picker.init(e(this).find(".acf-date_picker"))})}),e(document).on("blur",'.acf-date_picker input[type="text"]',function(t){acf.fields.date_picker.blur(e(this))})}(jQuery),function(e){acf.fields.file={edit:function(e){var t=e.closest(".acf-file-uploader"),a=t.find('[data-name="id"]').val(),i=acf.media.popup({title:acf._e("file","edit"),button:acf._e("file","update"),mode:"edit",id:a,select:function(e,a){var i={id:e.id,title:e.attributes.title,name:e.attributes.filename,url:e.attributes.url,icon:e.attributes.icon,size:e.attributes.filesize};acf.fields.file.add(t,i)}})},remove:function(e){var t=e.closest(".acf-file-uploader");t.find('[data-name="icon"]').attr("src",""),t.find('[data-name="title"]').text(""),t.find('[data-name="name"]').text("").attr("href",""),t.find('[data-name="size"]').text(""),t.find('[data-name="id"]').val("").trigger("change"),t.removeClass("has-value")},popup:function(t){var a=t.closest(".acf-file-uploader"),i=acf.get_the_field(a),n=acf.get_the_field(i),s=acf.get_data(a,"library"),o=!1;n.exists()&&acf.is_field(n,{type:"repeater"})&&(o=!0);var c=acf.media.popup({title:acf._e("file","select"),mode:"select",type:"",multiple:o,library:s,select:function(t,s){if(s>0){var o=i.parent(),c=!1,r=acf.get_data(i,"key");o.nextAll(".acf-row").not(".clone").each(function(){return(c=acf.get_field(r,e(this)))?c.find(".acf-file-uploader.has-value").exists()?void(c=!1):!1:void 0}),c||(o=acf.fields.repeater.set(n).add(),c=acf.get_field(r,o)),a=c.find(".acf-file-uploader")}var l={id:t.id,title:t.attributes.title,name:t.attributes.filename,url:t.attributes.url,icon:t.attributes.icon,size:t.attributes.filesize};acf.fields.file.add(a,l)}})},add:function(e,t){e.find('[data-name="icon"]').attr("src",t.icon),e.find('[data-name="title"]').text(t.title),e.find('[data-name="name"]').text(t.name).attr("href",t.url),e.find('[data-name="size"]').text(t.size),e.find('[data-name="id"]').val(t.id).trigger("change"),e.addClass("has-value")}},e(document).on("click",'.acf-file-uploader [data-name="remove-button"]',function(t){t.preventDefault(),acf.fields.file.remove(e(this))}),e(document).on("click",'.acf-file-uploader [data-name="edit-button"]',function(t){t.preventDefault(),acf.fields.file.edit(e(this))}),e(document).on("click",'.acf-file-uploader [data-name="add-button"]',function(t){t.preventDefault(),acf.fields.file.popup(e(this))})}(jQuery),function(e){acf.fields.google_map={$el:null,$input:null,o:{},ready:!1,geocoder:!1,map:!1,maps:{},set:function(t){return e.extend(this,t),this.$input=this.$el.find(".value"),this.o=acf.get_data(this.$el),this.maps[this.o.id]&&(this.map=this.maps[this.o.id]),this},init:function(){this.geocoder||(this.geocoder=new google.maps.Geocoder),this.ready=!0,this.render()},render:function(){var e=this,t=this.$el,a={zoom:parseInt(this.o.zoom),center:new google.maps.LatLng(this.o.lat,this.o.lng),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.$el.find(".canvas")[0],a);var i=new google.maps.places.Autocomplete(this.$el.find(".search")[0]);i.map=this.map,i.bindTo("bounds",this.map),this.map.marker=new google.maps.Marker({draggable:!0,raiseOnDrag:!0,map:this.map}),this.map.$el=this.$el;var n=this.$el.find(".input-lat").val(),s=this.$el.find(".input-lng").val();n&&s&&this.update(n,s).center(),google.maps.event.addListener(i,"place_changed",function(t){var a=this.map.$el,i=a.find(".search").val();a.find(".input-address").val(i),a.find(".title h4").text(i);var n=this.getPlace();if(n.geometry){var s=n.geometry.location.lat(),o=n.geometry.location.lng();e.set({$el:a}).update(s,o).center()}else e.geocoder.geocode({address:i},function(t,i){if(i!=google.maps.GeocoderStatus.OK)return void console.log("Geocoder failed due to: "+i);if(!t[0])return void console.log("No results found");n=t[0];var s=n.geometry.location.lat(),o=n.geometry.location.lng();e.set({$el:a}).update(s,o).center()})}),google.maps.event.addListener(this.map.marker,"dragend",function(){var t=this.map.$el,a=this.map.marker.getPosition(),i=a.lat(),n=a.lng();e.set({$el:t}).update(i,n).sync()}),google.maps.event.addListener(this.map,"click",function(t){var a=this.$el,i=t.latLng.lat(),n=t.latLng.lng();e.set({$el:a}).update(i,n).sync()}),this.maps[this.o.id]=this.map},update:function(e,t){var a=new google.maps.LatLng(e,t);return this.$el.find(".input-lat").val(e),this.$el.find(".input-lng").val(t).trigger("change"),this.map.marker.setPosition(a),this.map.marker.setVisible(!0),this.$el.addClass("active"),this.$el.closest(".acf-field").removeClass("error"),this},center:function(){var e=this.map.marker.getPosition(),t=this.o.lat,a=this.o.lng;e&&(t=e.lat(),a=e.lng());var i=new google.maps.LatLng(t,a);this.map.setCenter(i)},sync:function(){var e=this.$el,t=this.map.marker.getPosition(),a=new google.maps.LatLng(t.lat(),t.lng());return this.geocoder.geocode({latLng:a},function(t,a){if(a!=google.maps.GeocoderStatus.OK)return void console.log("Geocoder failed due to: "+a);if(!t[0])return void console.log("No results found");var i=t[0];e.find(".title h4").text(i.formatted_address),e.find(".input-address").val(i.formatted_address).trigger("change")}),this},locate:function(){var e=this,t=this.$el;return navigator.geolocation?(t.find(".title h4").text(acf.l10n.google_map.locating+"..."),t.addClass("active"),void navigator.geolocation.getCurrentPosition(function(a){var i=a.coords.latitude,n=a.coords.longitude;e.set({$el:t}).update(i,n).sync().center()})):(alert(acf.l10n.google_map.browser_support),this)},clear:function(){this.$el.removeClass("active"),this.$el.find(".search").val(""),this.$el.find(".input-address").val(""),this.$el.find(".input-lat").val(""),this.$el.find(".input-lng").val(""),this.map.marker.setVisible(!1)},edit:function(){this.$el.removeClass("active");var e=this.$el.find(".title h4").text();this.$el.find(".search").val(e).focus()},refresh:function(){google.maps.event.trigger(this.map,"resize"),this.center()}},acf.add_action("ready append",function(t){var a=acf.get_fields({type:"google_map"},t);a.exists()&&("undefined"==typeof google?e.getScript("https://www.google.com/jsapi",function(){google.load("maps","3",{other_params:"sensor=false&libraries=places",callback:function(){a.each(function(){acf.fields.google_map.set({$el:e(this).find(".acf-google-map")}).init()})}})}):a.each(function(){acf.fields.google_map.set({$el:e(this).find(".acf-google-map")}).init()}))}),e(document).on("click",'.acf-google-map a[data-name="clear-location"]',function(t){t.preventDefault(),acf.fields.google_map.set({$el:e(this).closest(".acf-google-map")}).clear(),e(this).blur()}),e(document).on("click",'.acf-google-map a[data-name="find-location"]',function(t){t.preventDefault(),acf.fields.google_map.set({$el:e(this).closest(".acf-google-map")}).locate(),e(this).blur()}),e(document).on("click",".acf-google-map .title h4",function(t){t.preventDefault(),acf.fields.google_map.set({$el:e(this).closest(".acf-google-map")}).edit()}),e(document).on("keydown",".acf-google-map .search",function(e){return 13==e.which?!1:void 0}),e(document).on("blur",".acf-google-map .search",function(t){var a=e(this).closest(".acf-google-map");a.find(".input-lat").val()&&a.addClass("active")}),acf.add_action("show_field",function(e){acf.fields.google_map.ready&&acf.is_field(e,{type:"google_map"})&&acf.fields.google_map.set({$el:e.find(".acf-google-map")}).refresh()})}(jQuery),function(e){acf.fields.image={edit:function(e){var t=e.closest(".acf-image-uploader"),a=t.find('[data-name="value-id"]').val(),i=acf.media.popup({title:acf._e("image","edit"),button:acf._e("image","update"),mode:"edit",id:a})},remove:function(e){var t=e.closest(".acf-image-uploader");t.find('[data-name="value-url"]').attr("src",""),t.find('[data-name="value-id"]').val("").trigger("change"),t.removeClass("has-value")},popup:function(t){var a=t.closest(".acf-image-uploader"),i=acf.get_the_field(a),n=acf.get_the_field(i),s=acf.get_data(a,"library"),o=acf.get_data(a,"preview_size"),c=!1;n.exists()&&acf.is_field(n,{type:"repeater"})&&(c=!0);var r=acf.media.popup({title:acf._e("image","select"),mode:"select",type:"image",multiple:c,library:s,select:function(t,s){if(s>0){var c=i.parent(),r=!1,l=acf.get_data(i,"key");c.nextAll(".acf-row").not(".clone").each(function(){return(r=acf.get_field(l,e(this)))?r.find(".acf-image-uploader.has-value").exists()?void(r=!1):!1:void 0}),r||(c=acf.fields.repeater.set(n).add(),r=acf.get_field(l,c)),a=r.find(".acf-image-uploader")}var d=t.id,f=t.attributes.url;t.attributes.sizes&&t.attributes.sizes[o]&&(f=t.attributes.sizes[o].url),acf.fields.image.add(a,d,f)}})},add:function(e,t,a){e.find('[data-name="value-url"]').attr("src",a),e.find('[data-name="value-id"]').val(t).trigger("change"),e.addClass("has-value")}},e(document).on("click",'.acf-image-uploader [data-name="remove-button"]',function(t){t.preventDefault(),acf.fields.image.remove(e(this))}),e(document).on("click",'.acf-image-uploader [data-name="edit-button"]',function(t){t.preventDefault(),acf.fields.image.edit(e(this))}),e(document).on("click",'.acf-image-uploader [data-name="add-button"]',function(t){t.preventDefault(),acf.fields.image.popup(e(this))})}(jQuery),function(e){acf.fields.oembed={search:function(t){var a=t.find('[data-name="search-input"]').val();"http"!=a.substr(0,4)&&(a="http://"+a,t.find('[data-name="search-input"]').val(a)),t.addClass("is-loading");var i={action:"acf/fields/oembed/search",nonce:acf.get("nonce"),s:a,width:acf.get_data(t,"width"),height:acf.get_data(t,"height")};t.data("xhr")&&t.data("xhr").abort();var n=e.ajax({url:acf.get("ajaxurl"),data:i,type:"post",dataType:"html",success:function(e){t.removeClass("is-loading"),acf.fields.oembed.search_success(t,a,e),e||acf.fields.oembed.search_error(t)}});t.data("xhr",n)},search_success:function(e,t,a){e.removeClass("has-error").addClass("has-value"),e.find('[data-name="value-input"]').val(t),e.find('[data-name="value-title"]').html(t),e.find('[data-name="value-embed"]').html(a)},search_error:function(e){e.removeClass("has-value").addClass("has-error")},clear:function(e){e.removeClass("has-error has-value"),e.find('[data-name="search-input"]').val(""),e.find('[data-name="value-input"]').val(""),e.find('[data-name="value-title"]').html(""),e.find('[data-name="value-embed"]').html("")},edit:function(e){e.addClass("is-editing");var t=e.find('[data-name="value-title"]').text();e.find('[data-name="search-input"]').val(t).focus()},blur:function(e){e.removeClass("is-editing");var t=e.find('[data-name="value-title"]').text(),a=e.find('[data-name="search-input"]').val(),i=e.find('[data-name="value-embed"]').html();return a?void(a!=t&&this.search(e)):void this.clear(e)}},e(document).on("click",'.acf-oembed [data-name="search-button"]',function(t){t.preventDefault(),acf.fields.oembed.search(e(this).closest(".acf-oembed")),e(this).blur()}),e(document).on("click",'.acf-oembed [data-name="clear-button"]',function(t){t.preventDefault(),acf.fields.oembed.clear(e(this).closest(".acf-oembed")),e(this).blur()}),e(document).on("click",'.acf-oembed [data-name="value-title"]',function(t){t.preventDefault(),acf.fields.oembed.edit(e(this).closest(".acf-oembed"))}),e(document).on("keypress",'.acf-oembed [data-name="search-input"]',function(e){13==e.which&&e.preventDefault()}),e(document).on("keyup",'.acf-oembed [data-name="search-input"]',function(t){e(this).val()&&t.which&&acf.fields.oembed.search(e(this).closest(".acf-oembed"))}),e(document).on("blur",'.acf-oembed [data-name="search-input"]',function(t){acf.fields.oembed.blur(e(this).closest(".acf-oembed"))})}(jQuery),function(e){acf.fields.radio={change:function(e){var t=e.closest("ul"),a=t.find('input[type="radio"]:checked'),i=t.find('input[type="text"]');"other"==a.val()?(i.removeAttr("disabled"),i.attr("name",a.attr("name"))):(i.attr("disabled","disabled"),i.attr("name",""))}},e(document).on("change",'.acf-radio-list input[type="radio"]',function(t){acf.fields.radio.change(e(this))})}(jQuery),function(e){acf.fields.relationship={$el:null,$wrap:null,$input:null,$filters:null,$choices:null,$values:null,o:{},set:function(t){return e.extend(this,t),this.$wrap=this.$el.find(".acf-relationship"),this.$input=this.$wrap.find(".acf-hidden input"),this.$choices=this.$wrap.find(".choices"),this.$values=this.$wrap.find(".values"),this.o=acf.get_data(this.$wrap),this},init:function(){var e=this;this.$values.children(".list").sortable({items:"li",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,update:function(){e.$input.trigger("change")}}),this.fetch()},fetch:function(){var t=this,a=this.$el;this.$choices.children(".list").html("<p>"+acf._e("relationship","loading")+"...</p>");var i={action:"acf/fields/relationship/query",field_key:this.$el.attr("data-key"),nonce:acf.get("nonce"),post_id:acf.get("post_id")};e.extend(i,this.o),this.$el.data("xhr")&&this.$el.data("xhr").abort();var n=e.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"get",cache:!0,data:i,success:function(e){t.set({$el:a}).render(e)
}});this.$el.data("xhr",n)},render:function(t){var a=this;if(!t||!t.length)return void this.$choices.children(".list").html("<li><p>"+acf._e("relationship","empty")+"</p></li>");if(this.$choices.children(".list").html(this.walker(t)),this.$values.find(".acf-relationship-item").each(function(){var t=e(this).attr("data-id");a.$choices.find('.acf-relationship-item[data-id="'+t+'"]').addClass("disabled")}),this.o.s){var i=this.o.s;this.$choices.find('.acf-relationship-item:contains("'+i+'")').each(function(){var t=e(this).html().replace(i,'<span class="match">'+i+"</span>");e(this).html(t)})}},walker:function(t){var a="";if(e.isArray(t))for(var i in t)a+=this.walker(t[i]);else e.isPlainObject(t)&&(void 0!==t.children?(a+='<li><span class="acf-relationship-label">'+t.text+'</span><ul class="acf-bl">',a+=this.walker(t.children),a+="</ul></li>"):a+='<li><span class="acf-relationship-item" data-id="'+t.id+'">'+t.text+"</span></li>");return a},add:function(e){if(this.o.max>0&&this.$values.find(".acf-relationship-item").length>=this.o.max)return alert(acf.l10n.relationship.max.replace("{max}",this.o.max)),!1;if(e.hasClass("disabled"))return!1;e.addClass("disabled");var t={value:e.attr("data-id"),text:e.html(),name:this.$input.attr("name")},a=_.template(acf.l10n.relationship.tmpl_li,t);this.$values.children(".list").append(a),this.$input.trigger("change"),this.$el.removeClass("error")},remove:function(e){var t=e.attr("data-id");e.parent("li").remove(),this.$choices.find('.acf-relationship-item[data-id="'+t+'"]').removeClass("disabled"),this.$input.trigger("change")}},acf.add_action("ready append",function(t){acf.get_fields({type:"relationship"},t).each(function(){acf.fields.relationship.set({$el:e(this)}).init()})}),e(document).on("keypress",".acf-relationship .filters [data-filter]",function(e){13==e.which&&e.preventDefault()}),e(document).on("change keyup",".acf-relationship .filters [data-filter]",function(t){var a=e(this).val(),i=e(this).attr("data-filter"),n=e(this).closest(".acf-relationship");$el=n.closest(".acf-field"),n.attr("data-"+i)!=a&&(n.attr("data-"+i,a),acf.fields.relationship.set({$el:$el}).fetch())}),e(document).on("click",".acf-relationship .choices .acf-relationship-item",function(t){t.preventDefault(),acf.fields.relationship.set({$el:e(this).closest(".acf-field")}).add(e(this)),e(this).blur()}),e(document).on("click",".acf-relationship .values .acf-icon",function(t){t.preventDefault(),acf.fields.relationship.set({$el:e(this).closest(".acf-field")}).remove(e(this).closest(".acf-relationship-item")),e(this).blur()})}(jQuery),function(e){acf.fields.select={init:function(t){if(!t.exists())return!1;var a=acf.get_data(t);if(!a.ui)return!1;var i=acf.get_field_wrap(t),n=t.siblings("input"),s={width:"100%",allowClear:a.allow_null,placeholder:a.placeholder,multiple:a.multiple,data:[],escapeMarkup:function(e){return e}};a.multiple&&(s.formatSelection=function(e,a){return a.parent().append('<input type="hidden" class="acf-select2-multi-choice" name="'+t.attr("name")+'" value="'+e.id+'" />'),e.text}),a.allow_null&&(s.placeholder=a.placeholder,t.find('option[value=""]').remove());var o=n.val().split(","),c=[],r={};t.find("option").each(function(t){var a="_root";e(this).parent().is("optgroup")&&(a=e(this).parent().attr("label")),r[a]||(r[a]=[]),r[a].push({id:e(this).attr("value"),text:e(this).text()})}),e.each(r,function(t,a){"_root"==t?e.each(a,function(e,t){s.data.push(t)}):s.data.push({text:t,children:a})}),e.each(o,function(t,a){e.each(s.data,function(e,t){a==t.id&&c.push(t)})}),a.ajax&&(s.ajax={url:acf.get("ajaxurl"),dataType:"json",type:"get",cache:!0,data:function(e,t){var a="acf/fields/"+acf.get_data(i,"type")+"/query",n={action:a,field_key:acf.get_data(i,"key"),nonce:acf.get("nonce"),post_id:acf.get("post_id"),s:e};return n},results:function(e,t){return{results:e}}},s.initSelection=function(e,t){a.multiple||(c=c[0]),t(c)}),s=acf.apply_filters("select2_args",s,i),n.select2(s),n.select2("container").before(n),a.multiple&&n.select2("container").find("ul.select2-choices").sortable({start:function(){n.select2("onSortStart")},update:function(){n.select2("onSortEnd")}}),t.attr("disabled","disabled").addClass("acf-disabled")},remove:function(e){acf.get_data(e,"ui")&&e.siblings(".select2-container").remove()}},acf.add_action("ready append",function(t){acf.get_fields({type:"select"},t).each(function(){acf.fields.select.init(e(this).find("select"))}),acf.get_fields({type:"user"},t).each(function(){acf.fields.select.init(e(this).find("select"))}),acf.get_fields({type:"post_object"},t).each(function(){acf.fields.select.init(e(this).find("select"))}),acf.get_fields({type:"page_link"},t).each(function(){acf.fields.select.init(e(this).find("select"))}),acf.get_fields({type:"taxonomy"},t).each(function(){acf.fields.select.init(e(this).find("select"))})}),acf.add_action("remove",function(t){acf.get_fields({type:"select"},t).each(function(){acf.fields.select.remove(e(this).find("select"))})})}(jQuery),function(e){acf.fields.tab={add_group:function(e){var t="";t=e.is("tbody")?'<tr class="acf-tab-wrap"><td colspan="2"><ul class="acf-hl acf-tab-group"></ul></td></tr>':'<div class="acf-tab-wrap"><ul class="acf-hl acf-tab-group"></ul></div>',acf.get_fields({type:"tab"},e).first().before(t)},add_tab:function(e){var t=e.parent(),a=e.find(".acf-tab"),i=acf.get_data(e,"key"),n=a.text();t.children(".acf-tab-wrap").exists()||this.add_group(t),t.children(".acf-tab-wrap").find(".acf-tab-group").append('<li><a class="acf-tab-button" href="#" data-key="'+i+'">'+n+"</a></li>")},toggle:function(t){var a=this,i=t.closest(".acf-tab-wrap").parent(),n=t.attr("data-key");t.parent("li").addClass("active").siblings("li").removeClass("active"),acf.get_fields({type:"tab"},i).each(function(){var t=e(this);acf.is_field(e(this),{key:n})?a.show_tab_fields(e(this)):a.hide_tab_fields(e(this))})},show_tab_fields:function(t){t.nextAll(".acf-field").each(function(){return acf.is_field(e(this),{type:"tab"})?!1:(e(this).removeClass("hidden-by-tab"),void acf.do_action("show_field",e(this)))})},hide_tab_fields:function(t){t.nextAll(".acf-field").each(function(){return acf.is_field(e(this),{type:"tab"})?!1:(e(this).addClass("hidden-by-tab"),void acf.do_action("hide_field",e(this)))})},refresh:function(t){var a=this;t.find(".acf-tab-group").each(function(){e(this).find(".acf-tab-button:first").each(function(){a.toggle(e(this))})})}},acf.add_action("ready append",function(t){var a=!1;acf.get_fields({type:"tab"},t).each(function(){acf.fields.tab.add_tab(e(this)),a=!0}),a&&acf.fields.tab.refresh(t)}),e(document).on("click",".acf-tab-button",function(t){t.preventDefault(),acf.fields.tab.toggle(e(this)),e(this).trigger("blur")}),acf.add_action("hide_field",function(e){if(acf.is_field(e,{type:"tab"})){var t=e.siblings(".acf-tab-wrap").find('a[data-key="'+acf.get_data(e,"key")+'"]'),a=t.parent();if(!a.is(":hidden")&&(a.hide(),!a.siblings(".active").exists()))return a.siblings(":visible").exists()?void a.siblings(":visible").first().children("a").trigger("click"):void acf.fields.tab.hide_tab_fields(e)}}),acf.add_action("show_field",function(e){if(acf.is_field(e,{type:"tab"})){var t=e.siblings(".acf-tab-wrap").find('a[data-key="'+acf.get_data(e,"key")+'"]'),a=t.parent();a.is(":visible")||(a.show(),a.hasClass("active")||a.siblings(":visible").exists()||t.trigger("click"))}}),acf.add_filter("validation_complete",function(t,a){return e.each(t.errors,function(e,t){var i=a.find('[name="'+t.input+'"]').first(),n=acf.get_field_wrap(i),s=n.prevAll('.acf-field[data-type="tab"]:first');if(s.exists())return n.hasClass("hidden-by-tab")?(s.siblings(".acf-tab-wrap").find('a[data-key="'+acf.get_data(s,"key")+'"]').trigger("click"),!1):!1}),t})}(jQuery),function(e){acf.validation={active:1,ignore:0,error_class:"acf-error",message_class:"acf-error-message",$trigger:null,init:function(){0!=this.active&&this.add_events()},add_error:function(e,t){e.addClass(this.error_class),void 0!==t&&(e.children(".acf-input").children("."+this.message_class).remove(),e.children(".acf-input").prepend('<div class="'+this.message_class+'"><p>'+t+"</p></div>")),acf.do_action("add_field_error",e)},remove_error:function(e){$message=e.children(".acf-input").children("."+this.message_class),e.removeClass(this.error_class),setTimeout(function(){acf.remove_el($message)},250),acf.do_action("remove_field_error",e)},add_warning:function(e,t){this.add_error(e,t),setTimeout(function(){acf.validation.remove_error(e)},1e3)},fetch:function(t){var a=this,i=acf.serialize_form(t,"acf");i.action="acf/validate_save_post",e.ajax({url:acf.get("ajaxurl"),data:i,type:"post",dataType:"json",success:function(e){a.complete(t,e)}})},complete:function(t,a){a=acf.apply_filters("validation_complete",a,t);var i=this;if(t.children("."+this.message_class).remove(),e("#submitdiv").exists()&&(e("#submitdiv").find(".disabled").removeClass("disabled"),e("#submitdiv").find(".button-disabled").removeClass("button-disabled"),e("#submitdiv").find(".button-primary-disabled").removeClass("button-primary-disabled"),e("#submitdiv .spinner").hide()),!a||"undefined"==typeof a.result||1==a.result)return t.find(".acf-postbox.acf-hidden").remove(),this.ignore=1,acf.do_action("submit",t),void(this.$trigger?this.$trigger.click():t.submit());if(t.prepend('<div class="'+this.message_class+'"><p>'+a.message+"</p></div>"),a.errors)for(var n in a.errors){var s=a.errors[n],o=t.find('[name="'+s.input+'"]').first();o.exists()||(o=t.find('[name^="'+s.input+'"]').first());var c=acf.get_field_wrap(o);i.add_error(c,s.message)}},add_events:function(){var t=this;e(document).on("focus click change",'.acf-field[data-required="1"] input, .acf-field[data-required="1"] textarea, .acf-field[data-required="1"] select',function(a){t.remove_error(e(this).closest(".acf-field"))}),e("#save-post").exists()&&e("#save-post").on("click",function(){t.ignore=1,t.$trigger=e(this)}),e("#post-preview").exists()&&e("#post-preview").on("click",function(){t.ignore=1,t.$trigger=e(this)}),e("#submit").exists()&&e("#submit").on("click",function(){t.$trigger=e(this)}),e("#publish").exists()&&e("#publish").on("click",function(){t.$trigger=e(this)}),e(document).on("submit","form",function(a){return e(this).find("#acf-form-data").exists()?(t.ignore=acf.apply_filters("ignore_validation",t.ignore,t.$trigger,e(this)),1==t.ignore?(t.ignore=0,!0):0==t.active?!0:(a.preventDefault(),void t.fetch(e(this)))):!0})}},acf.add_action("ready",function(){acf.validation.init()})}(jQuery),function(e){acf.fields.wysiwyg={$el:null,$textarea:null,o:{},set:function(t){return e.extend(this,t),this.$textarea=this.$el.find("textarea"),this.o=acf.get_data(this.$el),this.o.id=this.$textarea.attr("id"),this},has_tinymce:function(){var e=!1;return"object"==typeof tinyMCE&&(e=!0),e},get_toolbar:function(){return acf.isset(this,"toolbars",this.o.toolbar)?this.toolbars[this.o.toolbar]:!1},init:function(){var t=this.get_toolbar(),a="mceAddControl",i="theme_advanced_buttons{i}",n=e.extend({},tinyMCE.settings);if(4==tinymce.majorVersion&&(a="mceAddEditor",i="toolbar{i}"),t)for(var s=1;5>s;s++){var o="";acf.isset(t,"theme_advanced_buttons"+s)&&(o=t["theme_advanced_buttons"+s]),tinyMCE.settings[i.replace("{i}",s)]=o}tinyMCE.settings=acf.apply_filters("wysiwyg_tinymce_settings",tinyMCE.settings,this.o.id),tinyMCE.execCommand(a,!1,this.o.id),this.add_events(),tinyMCE.settings=n,wpActiveEditor=null},add_events:function(){var t=this.o.id,a=tinyMCE.get(t);if(a){var i=e("#wp-"+t+"-wrap"),n=e(a.getBody()),s=e(a.getElement());i.on("click",function(){acf.validation.remove_error(i.closest(".acf-field"))}),n.on("focus",function(){wpActiveEditor=t,acf.validation.remove_error(i.closest(".acf-field"))}),n.on("blur",function(){wpActiveEditor=null,a.save(),s.trigger("change")})}},destroy:function(){var e=this.o.id,t="mceRemoveControl";try{var a=tinyMCE.get(e);if(!a)return;4==tinymce.majorVersion&&(t="mceRemoveEditor");var i=a.getContent();tinyMCE.execCommand(t,!1,e),this.$textarea.val(i)}catch(n){}wpActiveEditor=null}},acf.add_action("ready",function(t){if(acf.fields.wysiwyg.has_tinymce()){var a=e("#wp-content-wrap"),i=e("#wp-acf_content-wrap"),n="tmce";i.exists()&&i.parent().appendTo("body"),acf.add_action("remove",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()})}).add_action("sortstart",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()})}).add_action("sortstop",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})}).add_action("append",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})}).add_action("load",function(t){var s=acf.get_fields({type:"wysiwyg"},t);i.exists()&&i.hasClass("html-active")&&(n="html"),a.exists()&&acf.fields.wysiwyg.set({$el:a}).add_events(),setTimeout(function(){i.exists()&&"html"==n&&i.find("#acf_content-tmce").trigger("click")},1),setTimeout(function(){s.each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()})},10),setTimeout(function(){s.each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})},11),setTimeout(function(){i.exists()&&"html"==n&&i.find("#acf_content-html").trigger("click")},12)})}}),e(document).on("click",".acf-wysiwyg-wrap .mce_fullscreen",function(){var t=e(this).closest(".acf-wysiwyg-wrap");acf.get_data(t,"upload")||e("#mce_fullscreen_container #mce_fullscreen_add_media").hide()})}(jQuery);
